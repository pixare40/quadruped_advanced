; PlatformIO Project Configuration File
; Advanced Quadruped Robot Firmware
; 
; Hardware: Freenove Quadruped Robot Kit V3 (ATmega2560 + ESP8266)
; Repository: https://github.com/[your-username]/quadruped_advanced
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[platformio]
default_envs = release

; Common settings for all environments
[common]
lib_deps = 
    servo
    SPI
    Wire
    EEPROM
    # RF24 library for wireless communication
    nrf24/RF24@^1.4.8
    # Timer library for precise control
    PaulStoffregen/FlexiTimer2@^1.1
    # JSON for configuration and telemetry
    bblanchon/ArduinoJson@^7.0.4
    # Advanced math utilities will be implemented as needed

build_flags = 
    # Optimization flags
    -O2
    -Wall
    -Wextra
    # Memory optimization
    -ffunction-sections
    -fdata-sections
    -Wl,--gc-sections
    # Custom defines
    -DQUADRUPED_VERSION=\"1.0.0\"
    -DDEBUG_LEVEL=2
    -DUSE_WIFI_MODULE
    -DUSE_RF24_REMOTE

# Production/Release Environment
[env:release]
platform = atmelavr
board = megaatmega2560
framework = arduino
lib_deps = ${common.lib_deps}
build_flags = ${common.build_flags}
    -DRELEASE_BUILD
upload_speed = 115200
monitor_speed = 115200
monitor_filters = 
    default
    time
    colorize

# Development/Debug Environment  
[env:debug]
platform = atmelavr
board = megaatmega2560
framework = arduino
lib_deps = ${common.lib_deps}
build_flags = ${common.build_flags}
    -DDEBUG_BUILD
    -DDEBUG_SERIAL
    -g
upload_speed = 115200
monitor_speed = 115200
monitor_filters = 
    default
    time
    colorize
    debug

# Testing Environment (for unit tests)
[env:native]
platform = native
build_flags = 
    -std=c++17
    -DUNIT_TESTING
lib_deps = 
    # Unity testing framework
    throwtheswitch/Unity@^2.5.2
